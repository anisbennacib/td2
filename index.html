<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TD n¬∞2 ‚Äî Manipulation de Fichiers | 4√®me SI</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Sora:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root[data-theme="dark"] {
    --bg: #0d1117;
    --bg2: #161b22;
    --bg3: #21262d;
    --border: #30363d;
    --text: #e6edf3;
    --text-muted: #8b949e;
    --accent: #58a6ff;
    --accent2: #3fb950;
    --accent3: #f78166;
    --accent4: #d2a8ff;
    --code-bg: #161b22;
    --code-border: #30363d;
    --tag-algo: rgba(88,166,255,0.15);
    --tag-algo-border: rgba(88,166,255,0.4);
    --tag-py: rgba(63,185,80,0.15);
    --tag-py-border: rgba(63,185,80,0.4);
    --shadow: 0 8px 32px rgba(0,0,0,0.5);
    --header-bg: linear-gradient(135deg, #0d1117 0%, #161b22 100%);
    --num-bg: rgba(88,166,255,0.1);
  }
  :root[data-theme="light"] {
    --bg: #f5f7fa;
    --bg2: #ffffff;
    --bg3: #eef1f5;
    --border: #d0d7de;
    --text: #1f2328;
    --text-muted: #656d76;
    --accent: #0969da;
    --accent2: #1a7f37;
    --accent3: #cf222e;
    --accent4: #8250df;
    --code-bg: #f6f8fa;
    --code-border: #d0d7de;
    --tag-algo: rgba(9,105,218,0.1);
    --tag-algo-border: rgba(9,105,218,0.3);
    --tag-py: rgba(26,127,55,0.1);
    --tag-py-border: rgba(26,127,55,0.3);
    --shadow: 0 4px 16px rgba(0,0,0,0.08);
    --header-bg: linear-gradient(135deg, #f0f4ff 0%, #ffffff 100%);
    --num-bg: rgba(9,105,218,0.08);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Sora', sans-serif;
    background: var(--bg);
    color: var(--text);
    transition: background 0.3s, color 0.3s;
    line-height: 1.6;
  }

  /* HEADER */
  header {
    background: var(--header-bg);
    border-bottom: 1px solid var(--border);
    padding: 0;
    position: sticky;
    top: 0;
    z-index: 100;
    backdrop-filter: blur(12px);
  }
  .header-inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 16px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
  }
  .header-left { display: flex; flex-direction: column; gap: 2px; }
  .header-subtitle {
    font-size: 11px;
    color: var(--accent);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 2px;
  }
  .header-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--text);
  }
  .header-right { display: flex; align-items: center; gap: 12px; }
  .pdf-link {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 7px 14px;
    border-radius: 8px;
    background: var(--tag-algo);
    border: 1px solid var(--tag-algo-border);
    color: var(--accent);
    font-size: 12px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s;
    font-family: 'Sora', sans-serif;
  }
  .pdf-link:hover {
    background: var(--accent);
    color: #fff;
    border-color: var(--accent);
  }
  .badge {
    background: var(--bg3);
    border: 1px solid var(--border);
    color: var(--text-muted);
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 600;
  }

  /* THEME TOGGLE */
  .theme-toggle {
    background: var(--bg3);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 2px;
    transition: all 0.2s;
  }
  .theme-toggle:hover { border-color: var(--accent); }
  .toggle-btn {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    border: none;
    background: transparent;
    color: var(--text-muted);
    transition: all 0.2s;
    font-family: 'Sora', sans-serif;
  }
  .toggle-btn.active {
    background: var(--accent);
    color: #fff;
  }

  /* LAYOUT */
  .container { max-width: 1200px; margin: 0 auto; padding: 32px 24px; display: flex; gap: 28px; }

  /* SIDEBAR */
  .sidebar {
    width: 260px;
    flex-shrink: 0;
    position: sticky;
    top: 80px;
    height: fit-content;
    max-height: calc(100vh - 100px);
    overflow-y: auto;
  }
  .sidebar::-webkit-scrollbar { width: 4px; }
  .sidebar::-webkit-scrollbar-track { background: transparent; }
  .sidebar::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }

  .sidebar-card {
    background: var(--bg2);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 16px;
  }
  .sidebar-title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--text-muted);
    margin-bottom: 12px;
  }
  .nav-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.15s;
    text-decoration: none;
    color: var(--text-muted);
    font-size: 13px;
    margin-bottom: 2px;
  }
  .nav-item:hover { background: var(--bg3); color: var(--text); }
  .nav-item.active { background: var(--num-bg); color: var(--accent); }
  .nav-num {
    width: 22px;
    height: 22px;
    background: var(--num-bg);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: 700;
    color: var(--accent);
    flex-shrink: 0;
  }

  /* MAIN */
  .main { flex: 1; min-width: 0; }

  /* INTRO CARD */
  .intro-card {
    background: var(--bg2);
    border: 1px solid var(--border);
    border-radius: 16px;
    margin-bottom: 28px;
    position: relative;
    overflow: hidden;
  }
  .intro-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--accent), var(--accent4), var(--accent2));
    z-index: 1;
  }

  /* EXERCISE CARD */
  .exercise-card {
    background: var(--bg2);
    border: 1px solid var(--border);
    border-radius: 16px;
    margin-bottom: 20px;
    overflow: hidden;
    transition: box-shadow 0.2s;
  }
  .exercise-card:hover { box-shadow: var(--shadow); }

  .ex-header {
    padding: 18px 24px;
    display: flex;
    align-items: center;
    gap: 14px;
    cursor: pointer;
    user-select: none;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s;
  }
  .ex-header.open { border-bottom-color: var(--border); }

  .ex-num {
    width: 36px; height: 36px;
    background: linear-gradient(135deg, var(--accent), var(--accent4));
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 14px; font-weight: 700; color: #fff;
    flex-shrink: 0;
  }
  .ex-info { flex: 1; }
  .ex-name { font-size: 15px; font-weight: 700; color: var(--text); font-family: 'JetBrains Mono', monospace; }
  .ex-desc { font-size: 12px; color: var(--text-muted); margin-top: 2px; }
  .ex-chevron {
    color: var(--text-muted);
    transition: transform 0.25s;
    font-size: 18px;
  }
  .ex-chevron.open { transform: rotate(180deg); }

  .ex-body {
    display: none;
    padding: 24px;
    flex-direction: column;
    gap: 20px;
  }
  .ex-body.open { display: flex; }

  /* TABS */
  .tabs { display: flex; gap: 4px; background: var(--bg3); padding: 4px; border-radius: 10px; width: fit-content; }
  .tab {
    padding: 7px 16px;
    border-radius: 7px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    border: none;
    background: transparent;
    color: var(--text-muted);
    transition: all 0.2s;
    font-family: 'Sora', sans-serif;
  }
  .tab.active-algo { background: var(--tag-algo); color: var(--accent); border: 1px solid var(--tag-algo-border); }
  .tab.active-py { background: var(--tag-py); color: var(--accent2); border: 1px solid var(--tag-py-border); }

  /* CODE BLOCK */
  .code-panel { display: none; }
  .code-panel.active { display: block; }

  .code-block {
    background: var(--code-bg);
    border: 1px solid var(--code-border);
    border-radius: 12px;
    overflow: hidden;
  }
  .code-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 16px;
    border-bottom: 1px solid var(--code-border);
    background: var(--bg3);
  }
  .code-lang {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  .lang-algo { color: var(--accent); }
  .lang-py { color: var(--accent2); }

  .copy-btn {
    background: var(--bg2);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 4px 10px;
    font-size: 11px;
    cursor: pointer;
    color: var(--text-muted);
    font-family: 'Sora', sans-serif;
    transition: all 0.2s;
  }
  .copy-btn:hover { border-color: var(--accent); color: var(--accent); }

  pre {
    padding: 18px 20px;
    overflow-x: auto;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    line-height: 1.75;
    font-variant-ligatures: none;
    font-feature-settings: "liga" 0, "calt" 0;
  }
  pre::-webkit-scrollbar { height: 6px; }
  pre::-webkit-scrollbar-track { background: transparent; }
  pre::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

  /* SYNTAX COLORS */
  .kw { color: #ff7b72; }       /* keywords: Proc√©dure, Fonction, Si, etc */
  .kw2 { color: #79c0ff; }      /* secondary keywords: D√©but, Fin, Pour, etc */
  .str { color: #a5d6ff; }      /* strings */
  .num { color: #f2cc60; }      /* numbers */
  .fn  { color: #d2a8ff; }      /* function names */
  .cm  { color: #8b949e; font-style: italic; }  /* comments */
  .op  { color: #ff7b72; }      /* operators */
  .type { color: #ffa657; }     /* types */
  /* Python */
  .py-kw { color: #ff7b72; }
  .py-fn { color: #d2a8ff; }
  .py-str { color: #a5d6ff; }
  .py-cm { color: #8b949e; font-style: italic; }
  .py-num { color: #f2cc60; }
  .py-builtin { color: #79c0ff; }
  .py-op { color: #ff7b72; }

  :root[data-theme="light"] .kw { color: #cf222e; }
  :root[data-theme="light"] .kw2 { color: #0550ae; }
  :root[data-theme="light"] .str { color: #0a3069; }
  :root[data-theme="light"] .num { color: #6e7781; }
  :root[data-theme="light"] .fn  { color: #8250df; }
  :root[data-theme="light"] .cm  { color: #6e7781; }
  :root[data-theme="light"] .op  { color: #cf222e; }
  :root[data-theme="light"] .type { color: #953800; }
  :root[data-theme="light"] .py-kw { color: #cf222e; }
  :root[data-theme="light"] .py-fn { color: #8250df; }
  :root[data-theme="light"] .py-str { color: #0a3069; }
  :root[data-theme="light"] .py-cm { color: #6e7781; }
  :root[data-theme="light"] .py-num { color: #0550ae; }
  :root[data-theme="light"] .py-builtin { color: #0550ae; }
  :root[data-theme="light"] .py-op { color: #cf222e; }

  /* TABLE */
  .decl-title {
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-muted);
    margin-bottom: 8px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid var(--border);
  }
  th {
    background: var(--bg3);
    padding: 9px 14px;
    text-align: left;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-muted);
    font-weight: 700;
  }
  td {
    padding: 9px 14px;
    border-top: 1px solid var(--border);
    font-family: 'JetBrains Mono', monospace;
    font-size: 12.5px;
  }
  td:first-child { color: var(--accent4); }
  td:last-child { color: var(--type, var(--accent)); }
  tr:hover td { background: var(--bg3); }

  /* ===== ACADEMIC INTRO STYLES ===== */
  .intro-card {
    padding: 0;
    overflow: hidden;
  }

  .ac-header {
    padding: 28px 32px 24px;
    border-bottom: 1px solid var(--border);
    background: var(--bg2);
  }
  .ac-label {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: var(--accent);
    background: var(--tag-algo);
    border: 1px solid var(--tag-algo-border);
    padding: 4px 10px;
    border-radius: 20px;
    margin-bottom: 12px;
  }
  .ac-title {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 10px;
    color: var(--text);
  }
  .ac-desc {
    font-size: 14px;
    color: var(--text-muted);
    line-height: 1.75;
    max-width: 700px;
  }

  .ac-section {
    padding: 20px 32px;
    border-bottom: 1px solid var(--border);
  }
  .ac-section:last-child { border-bottom: none; }

  .ac-section-title {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--text-muted);
    margin-bottom: 14px;
  }
  .ac-section-icon { font-size: 14px; }

  /* Academic table */
  .ac-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid var(--border);
  }
  .ac-table thead { background: var(--bg3); }
  .ac-table th {
    padding: 10px 16px;
    text-align: left;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-muted);
    border-bottom: 1px solid var(--border);
  }
  .ac-table td {
    padding: 11px 16px;
    border-top: 1px solid var(--border);
    font-size: 13px;
    color: var(--text);
    font-family: inherit;
    vertical-align: middle;
  }
  .ac-table tr:hover td { background: var(--bg3); }
  .field-name {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 700;
    color: var(--accent);
    font-size: 13px;
  }
  .type-tag {
    background: var(--tag-py);
    border: 1px solid var(--tag-py-border);
    color: var(--accent2);
    padding: 2px 8px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 600;
    font-family: 'JetBrains Mono', monospace;
  }

  /* CSV format */
  .csv-format-box {
    background: var(--bg3);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 18px 20px;
    display: flex;
    flex-direction: column;
    gap: 14px;
  }
  .csv-schema {
    display: flex;
    align-items: center;
    gap: 4px;
    flex-wrap: wrap;
  }
  .csv-field {
    padding: 6px 14px;
    border-radius: 8px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    font-weight: 600;
    border: 1px solid transparent;
  }
  .f-code { background: rgba(88,166,255,0.12); border-color: rgba(88,166,255,0.3); color: var(--accent); }
  .f-nom  { background: rgba(210,168,255,0.12); border-color: rgba(210,168,255,0.3); color: var(--accent4); }
  .f-qte  { background: rgba(63,185,80,0.12);  border-color: rgba(63,185,80,0.3);  color: var(--accent2); }
  .f-pu   { background: rgba(242,204,96,0.12); border-color: rgba(242,204,96,0.3); color: #f2cc60; }
  .csv-sep {
    font-family: 'JetBrains Mono', monospace;
    font-size: 16px;
    font-weight: 700;
    color: var(--accent3);
  }
  .csv-example-label {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-muted);
  }

  /* File window */
  .file-window {
    background: var(--code-bg);
    border: 1px solid var(--code-border);
    border-radius: 12px;
    overflow: hidden;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    margin-bottom: 10px;
  }
  .file-titlebar {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 10px 16px;
    background: var(--bg3);
    border-bottom: 1px solid var(--border);
  }
  .dot { width: 12px; height: 12px; border-radius: 50%; flex-shrink: 0; }
  .dot.red    { background: #ff5f57; }
  .dot.yellow { background: #febc2e; }
  .dot.green  { background: #28c840; }
  .file-name-bar { margin-left: 8px; font-size: 12px; color: var(--text-muted); font-weight: 500; }
  .file-body { padding: 14px 0; }
  .file-line {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 3px 20px;
    transition: background 0.1s;
  }
  .file-line:hover { background: rgba(255,255,255,0.03); }
  .ln {
    width: 18px;
    text-align: right;
    color: var(--text-muted);
    font-size: 11px;
    margin-right: 16px;
    flex-shrink: 0;
  }
  .fc { color: var(--accent); }
  .fn2 { color: var(--accent4); }
  .fq { color: var(--accent2); }
  .fp { color: #f2cc60; }
  .fs { color: var(--accent3); margin: 0 1px; }
  .file-legend {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
  }
  .leg-item { display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--text-muted); }
  .leg-dot { width: 10px; height: 10px; border-radius: 3px; flex-shrink: 0; }

  /* Instructions grid */
  .instructions-grid { display: flex; flex-direction: column; gap: 8px; }
  .instr-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    background: var(--bg3);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 12px 16px;
    font-size: 13.5px;
    color: var(--text-muted);
    line-height: 1.6;
  }
  .instr-num {
    width: 24px; height: 24px;
    background: var(--num-bg);
    color: var(--accent);
    border-radius: 6px;
    font-size: 12px;
    font-weight: 700;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
    margin-top: 1px;
  }
  .instr-item strong { color: var(--text); }

  .inline-code {
    font-family: 'JetBrains Mono', monospace;
    background: var(--bg3);
    border: 1px solid var(--border);
    padding: 1px 6px;
    border-radius: 5px;
    font-size: 13px;
    color: var(--accent);
  }


  /* EXPLANATION PANEL */
  .expl-panel { display: none; flex-direction: column; gap: 16px; }
  .expl-panel.active { display: flex; }
  .tab.active-expl { background: rgba(247,129,102,0.15); color: #f78166; border: 1px solid rgba(247,129,102,0.4); }
  :root[data-theme="light"] .tab.active-expl { background: rgba(207,34,46,0.08); color: #cf222e; border-color: rgba(207,34,46,0.3); }

  .expl-block {
    background: var(--bg3);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px 18px;
    display: flex;
    gap: 14px;
    align-items: flex-start;
  }
  .expl-block.objectif { border-left: 3px solid var(--accent); }
  .expl-block.idee     { border-left: 3px solid var(--accent4); }
  .expl-block.etapes   { border-left: 3px solid var(--accent2); }
  .expl-block.attention{ border-left: 3px solid #f78166; }
  .expl-block.motcle   { border-left: 3px solid #f2cc60; }

  .expl-icon { font-size: 20px; flex-shrink: 0; margin-top: 1px; }
  .expl-content { flex: 1; }
  .expl-title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--text-muted);
    margin-bottom: 7px;
  }
  .expl-text {
    font-size: 13.5px;
    color: var(--text);
    line-height: 1.75;
  }
  .expl-text code {
    font-family: 'JetBrains Mono', monospace;
    background: var(--bg2);
    border: 1px solid var(--border);
    padding: 1px 6px;
    border-radius: 5px;
    font-size: 12px;
    color: var(--accent);
  }
  .expl-steps {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin: 0; padding: 0;
  }
  .expl-steps li {
    display: flex;
    gap: 10px;
    align-items: flex-start;
    font-size: 13.5px;
    color: var(--text);
    line-height: 1.6;
  }
  .step-num {
    width: 22px; height: 22px;
    background: rgba(63,185,80,0.15);
    border: 1px solid rgba(63,185,80,0.3);
    color: var(--accent2);
    border-radius: 6px;
    font-size: 11px;
    font-weight: 700;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
    margin-top: 1px;
  }
  .motcle-list { display: flex; flex-direction: column; gap: 8px; }
  .motcle-item { display: flex; align-items: flex-start; gap: 10px; font-size: 13.5px; line-height: 1.6; }
  .motcle-tag {
    font-family: 'JetBrains Mono', monospace;
    background: rgba(242,204,96,0.12);
    border: 1px solid rgba(242,204,96,0.3);
    color: #f2cc60;
    padding: 2px 8px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    flex-shrink: 0;
  }
  :root[data-theme="light"] .motcle-tag {
    background: rgba(154, 103, 0, 0.08);
    border-color: rgba(154, 103, 0, 0.35);
    color: #8a5c00;
  }

  /* REMARK */
  .remark {
    background: rgba(247,129,102,0.08);
    border: 1px solid rgba(247,129,102,0.25);
    border-radius: 10px;
    padding: 12px 16px;
    font-size: 13px;
    color: var(--text-muted);
    display: flex;
    gap: 10px;
    align-items: flex-start;
  }
  .remark-icon { font-size: 16px; flex-shrink: 0; margin-top: 1px; }

  @media (max-width: 900px) {
    .sidebar { display: none; }
    .container { padding: 16px; }
    .fields-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="header-left">
      <span class="header-subtitle">A.S 2025‚Äì2026 ¬∑ @Anis Ben Nacib</span>
      <span class="header-title">TD n¬∞2 ‚Äî Algorithmes de Manipulation de Fichiers</span>
    </div>
    <div class="header-right">
      <a class="pdf-link" href="4SI__TD__LesFichiers.pdf" target="_blank" download>
        <span>üìÑ</span> √ânonc√© PDF
      </a>
      <span class="badge">4√®me SI</span>
      <div class="theme-toggle">
        <button class="toggle-btn" id="darkBtn" onclick="setTheme('dark')">üåô Sombre</button>
        <button class="toggle-btn active" id="lightBtn" onclick="setTheme('light')">‚òÄÔ∏è Clair</button>
      </div>
    </div>
  </div>
</header>

<div class="container">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-card">
      <div class="sidebar-title">Exercices</div>
      <a class="nav-item" href="#ex1"><div class="nav-num">1</div> Remplir_v1</a>
      <a class="nav-item" href="#ex2"><div class="nav-num">2</div> Remplir_v2</a>
      <a class="nav-item" href="#ex3"><div class="nav-num">3</div> Compter_Produits</a>
      <a class="nav-item" href="#ex4"><div class="nav-num">4</div> Ajouter_Fin</a>
      <a class="nav-item" href="#ex5"><div class="nav-num">5</div> Ajouter_Debut</a>
      <a class="nav-item" href="#ex6"><div class="nav-num">6</div> Rechercher</a>
      <a class="nav-item" href="#ex7"><div class="nav-num">7</div> Ajouter_Si_Nouveau</a>
      <a class="nav-item" href="#ex8"><div class="nav-num">8</div> Generer_Commande</a>
      <a class="nav-item" href="#ex9"><div class="nav-num">9</div> Filtrer</a>
      <a class="nav-item" href="#ex10"><div class="nav-num">10</div> Supprimer_Produit</a>
      <a class="nav-item" href="#ex11"><div class="nav-num">11</div> Valeur_Stock_Total</a>
      <a class="nav-item" href="#ex12"><div class="nav-num">12</div> Modifier_Prix</a>
      <a class="nav-item" href="#ex13"><div class="nav-num">13</div> Augmenter_Prix</a>
      <a class="nav-item" href="#ex14"><div class="nav-num">14</div> Trier_Croissant</a>
      <a class="nav-item" href="#ex15"><div class="nav-num">15</div> Inserer_Trie</a>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="main">

    <!-- INTRO -->
    <div class="intro-card">

      <!-- Header acad√©mique -->
      <div class="ac-header">
        <div class="ac-label">Contexte du probl√®me</div>
        <h2 class="ac-title">Gestion de Stock par Fichier Texte</h2>
        <p class="ac-desc">
          Une entreprise de vente de mat√©riel informatique souhaite g√©rer son stock de produits
          √† l'aide d'un fichier texte nomm√© <code class="inline-code">Stock.txt</code>.
          Chaque ligne du fichier contient les informations d'un produit, s√©par√©es par le caract√®re
          <code class="inline-code">,</code> (virgule) ‚Äî format <strong>CSV</strong>.
        </p>
      </div>

      <!-- Format CSV -->
      <div class="ac-section">
        <div class="ac-section-title">
          <span class="ac-section-icon">üìÑ</span>
          Format d'une ligne CSV
        </div>
        <div class="csv-format-box">
          <div class="csv-schema">
            <span class="csv-field f-code">Code</span>
            <span class="csv-sep">,</span>
            <span class="csv-field f-nom">Nom</span>
            <span class="csv-sep">,</span>
            <span class="csv-field f-qte">Qte</span>
            <span class="csv-sep">,</span>
            <span class="csv-field f-pu">Pu</span>
          </div>
          <div class="csv-example-label">Exemple concret :</div>
          <div class="csv-schema">
            <span class="csv-field f-code">P0001</span>
            <span class="csv-sep">,</span>
            <span class="csv-field f-nom">Ordinateur</span>
            <span class="csv-sep">,</span>
            <span class="csv-field f-qte">15</span>
            <span class="csv-sep">,</span>
            <span class="csv-field f-pu">1200.5</span>
          </div>
        </div>
      </div>

      <!-- Aper√ßu fichier -->
      <div class="ac-section">
        <div class="ac-section-title">
          <span class="ac-section-icon">üóÇÔ∏è</span>
          Aper√ßu du fichier <code class="inline-code">Stock.txt</code>
        </div>
        <div class="file-window">
          <div class="file-titlebar">
            <span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span>
            <span class="file-name-bar">Stock.txt</span>
          </div>
          <div class="file-body">
            <div class="file-line"><span class="ln">1</span><span class="fc">P0001</span><span class="fs">,</span><span class="fn2">Ordinateur</span><span class="fs">,</span><span class="fq">15</span><span class="fs">,</span><span class="fp">1200.5</span></div>
            <div class="file-line"><span class="ln">2</span><span class="fc">P0002</span><span class="fs">,</span><span class="fn2">Souris</span><span class="fs">,</span><span class="fq">50</span><span class="fs">,</span><span class="fp">25.0</span></div>
            <div class="file-line"><span class="ln">3</span><span class="fc">P0003</span><span class="fs">,</span><span class="fn2">Clavier</span><span class="fs">,</span><span class="fq">30</span><span class="fs">,</span><span class="fp">45.75</span></div>
            <div class="file-line"><span class="ln">4</span><span class="fc">P0004</span><span class="fs">,</span><span class="fn2">Ecran</span><span class="fs">,</span><span class="fq">8</span><span class="fs">,</span><span class="fp">350.0</span></div>
            <div class="file-line"><span class="ln">5</span><span class="fc">P0005</span><span class="fs">,</span><span class="fn2">Imprimante</span><span class="fs">,</span><span class="fq">12</span><span class="fs">,</span><span class="fp">450.5</span></div>
          </div>
        </div>
        <div class="file-legend">
          <span class="leg-item"><span class="leg-dot" style="background:var(--accent)"></span>Code</span>
          <span class="leg-item"><span class="leg-dot" style="background:var(--accent4)"></span>Nom</span>
          <span class="leg-item"><span class="leg-dot" style="background:var(--accent2)"></span>Quantit√©</span>
          <span class="leg-item"><span class="leg-dot" style="background:#f2cc60"></span>Prix unitaire</span>
        </div>
      </div>

      <!-- Instructions g√©n√©rales -->
      <div class="ac-section">
        <div class="ac-section-title">
          <span class="ac-section-icon">üìå</span>
          Instructions g√©n√©rales
        </div>
        <div class="instructions-grid">
          <div class="instr-item">
            <span class="instr-num">1</span>
            <span>Les modules sont <strong>autonomes</strong> et ind√©pendants les uns des autres.</span>
          </div>
          <div class="instr-item">
            <span class="instr-num">2</span>
            <span>Les param√®tres sont consid√©r√©s comme <strong>d√©j√† valid√©s</strong> au moment de l'appel.</span>
          </div>
          <div class="instr-item">
            <span class="instr-num">3</span>
            <span>Le <strong>nom physique</strong> du fichier est pass√© en param√®tre. La variable fichier est locale.</span>
          </div>
        </div>
      </div>

    </div>

    <!-- ===== EX 1 ===== -->
    <div class="exercise-card" id="ex1">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">1</div>
        <div class="ex-info">
          <div class="ex-name">Remplir_version1(nomf, n)</div>
          <div class="ex-desc">Cr√©er et remplir le fichier avec n produits saisis au clavier</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex1')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex1')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex1')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex1-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Remplir_version1</span> (<span class="type">nomf</span> : Cha√Æne, <span class="type">n</span> : Entier)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"w"</span>)
    <span class="kw2">Pour</span> i <span class="kw2">de</span> <span class="num">1</span> <span class="kw2">√†</span> n <span class="kw2">Faire</span>
        <span class="kw2">Ecrire</span> (<span class="str">"Produit "</span>, i, <span class="str">" :"</span>)
        <span class="kw2">Ecrire</span> (<span class="str">"Code : "</span>)
        <span class="kw2">Lire</span> (code)
        <span class="kw2">Ecrire</span> (<span class="str">"Nom : "</span>)
        <span class="kw2">Lire</span> (nom)
        <span class="kw2">R√©p√©ter</span>
            <span class="kw2">Ecrire</span> (<span class="str">"Quantit√© : "</span>)
            <span class="kw2">Lire</span> (qte)
        <span class="kw2">Jusqu'√†</span> (qte <span class="op">&gt;</span> <span class="num">0</span>)
        <span class="kw2">R√©p√©ter</span>
            <span class="kw2">Ecrire</span> (<span class="str">"Prix unitaire : "</span>)
            <span class="kw2">Lire</span> (pu)
        <span class="kw2">Jusqu'√†</span> (pu <span class="op">&gt;</span> <span class="num">0</span>)
        ligne <span class="op">‚Üê</span> code <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> nom <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(qte) <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(pu)
        <span class="kw2">Ecrire_nl</span> (F, ligne)
    <span class="kw2">Fin Pour</span>
    <span class="kw2">Fermer</span> (F)
<span class="kw2">FIN</span></pre>
          </div>
          <div>
            <div class="decl-title">D√©claration des objets locaux</div>
            <table>
              <tr><th>Objet</th><th>Type / Nature</th></tr>
              <tr><td>F</td><td>Fichier Texte</td></tr>
              <tr><td>i</td><td>Entier</td></tr>
              <tr><td>code, nom, ligne</td><td>Cha√Æne de caract√®res</td></tr>
              <tr><td>qte</td><td>Entier</td></tr>
              <tr><td>pu</td><td>R√©el</td></tr>
            </table>
          </div>
        </div>
        <div class="code-panel" id="ex1-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Remplir_version1</span>(nomf, n):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'w'</span>)
    <span class="py-kw">for</span> i <span class="py-kw">in</span> <span class="py-builtin">range</span>(n):
        <span class="py-builtin">print</span>(<span class="py-str">"Produit"</span>, i, <span class="py-str">":"</span>)
        code = <span class="py-builtin">input</span>(<span class="py-str">"Code : "</span>)
        nom  = <span class="py-builtin">input</span>(<span class="py-str">"Nom : "</span>)
        qte  = <span class="py-builtin">int</span>(<span class="py-builtin">input</span>(<span class="py-str">"Quantit√© : "</span>))
        <span class="py-kw">while</span> qte <span class="py-kw">&lt;=</span> <span class="py-num">0</span>:
            qte = <span class="py-builtin">int</span>(<span class="py-builtin">input</span>(<span class="py-str">"Quantit√© : "</span>))
        pu = <span class="py-builtin">float</span>(<span class="py-builtin">input</span>(<span class="py-str">"Prix unitaire : "</span>))
        <span class="py-kw">while</span> pu <span class="py-kw">&lt;=</span> <span class="py-num">0</span>:
            pu = <span class="py-builtin">float</span>(<span class="py-builtin">input</span>(<span class="py-str">"Prix unitaire : "</span>))
        ligne = code + <span class="py-str">","</span> + nom + <span class="py-str">","</span> + <span class="py-builtin">str</span>(qte) + <span class="py-str">","</span> + <span class="py-builtin">str</span>(pu)
        F.write(ligne + <span class="py-str">"\n"</span>)
    F.close()</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex1-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Cr√©er un nouveau fichier et y enregistrer exactement <strong>n produits</strong>, saisis un par un au clavier.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On ouvre un fichier vierge, puis on r√©p√®te <strong>n fois</strong> la m√™me op√©ration : demander les infos d'un produit, construire une ligne CSV et l'√©crire dans le fichier. √Ä la fin, on ferme le fichier.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">"w"</span><span>Mode <strong>√©criture</strong> ‚Äî cr√©e le fichier s'il n'existe pas, l'√©crase s'il existe d√©j√†.</span></div><div class="motcle-item"><span class="motcle-tag">Pour i de 1 √† n</span><span>On r√©p√®te exactement <strong>n fois</strong>, une fois par produit.</span></div><div class="motcle-item"><span class="motcle-tag">R√©p√©ter...Jusqu'√†</span><span>Valide la saisie ‚Äî tourne <strong>au moins une fois</strong> jusqu'√† avoir une valeur correcte.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Ouvrir le fichier en mode √©criture <code>"w"</code></span></li><li><span class="step-num">2</span><span>R√©p√©ter n fois : saisir code, nom, quantit√© (valid√©e &gt; 0) et prix (valid√© &gt; 0)</span></li><li><span class="step-num">3</span><span>Construire la ligne : <code>code,nom,qte,pu</code> et l'√©crire</span></li><li><span class="step-num">4</span><span>Fermer le fichier apr√®s la boucle</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">Le mode <code>"w"</code> <strong>√©crase</strong> tout fichier existant du m√™me nom. Les donn√©es pr√©c√©dentes seront perdues !</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 2 ===== -->
    <div class="exercise-card" id="ex2">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">2</div>
        <div class="ex-info">
          <div class="ex-name">Remplir_Version2(nomf)</div>
          <div class="ex-desc">Remplir le fichier jusqu'√† r√©ponse "N" √† la question de confirmation</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex2')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex2')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex2')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex2-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Remplir_Version2</span> (<span class="type">nomf</span> : Cha√Æne)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"w"</span>)
    <span class="kw2">R√©p√©ter</span>
        <span class="kw2">Ecrire</span> (<span class="str">"Code : "</span>)    <span class="kw2">Lire</span> (code)
        <span class="kw2">Ecrire</span> (<span class="str">"Nom : "</span>)     <span class="kw2">Lire</span> (nom)
        <span class="kw2">R√©p√©ter</span>
            <span class="kw2">Ecrire</span> (<span class="str">"Quantit√© : "</span>)   <span class="kw2">Lire</span> (qte)
        <span class="kw2">Jusqu'√†</span> (qte <span class="op">&gt;</span> <span class="num">0</span>)
        <span class="kw2">R√©p√©ter</span>
            <span class="kw2">Ecrire</span> (<span class="str">"Prix unitaire : "</span>)  <span class="kw2">Lire</span> (pu)
        <span class="kw2">Jusqu'√†</span> (pu <span class="op">&gt;</span> <span class="num">0</span>)
        ligne <span class="op">‚Üê</span> code <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> nom <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(qte) <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(pu)
        <span class="kw2">Ecrire_nl</span> (F, ligne)
        <span class="kw2">R√©p√©ter</span>
            <span class="kw2">Ecrire</span> (<span class="str">"Voulez-vous ajouter un produit (O/N) ? "</span>)
            <span class="kw2">Lire</span> (rep)
        <span class="kw2">Jusqu'√†</span> (rep <span class="op">‚àä</span> {<span class="str">"O"</span>, <span class="str">"N"</span>})
    <span class="kw2">Jusqu'√†</span> (rep <span class="op">=</span> <span class="str">"N"</span>)
    <span class="kw2">Fermer</span> (F)
<span class="kw2">FIN</span></pre>
          </div>
          <div>
            <div class="decl-title">D√©claration des objets locaux</div>
            <table>
              <tr><th>Objet</th><th>Type / Nature</th></tr>
              <tr><td>F</td><td>Fichier Texte</td></tr>
              <tr><td>code, nom, ligne, rep</td><td>Cha√Æne de caract√®res</td></tr>
              <tr><td>qte</td><td>Entier</td></tr>
              <tr><td>pu</td><td>R√©el</td></tr>
            </table>
          </div>
        </div>
        <div class="code-panel" id="ex2-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Remplir_Version2</span>(nomf):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'w'</span>)
    rep = <span class="py-str">"O"</span>
    <span class="py-kw">while</span> rep == <span class="py-str">"O"</span>:
        code = <span class="py-builtin">input</span>(<span class="py-str">"Code : "</span>)
        nom  = <span class="py-builtin">input</span>(<span class="py-str">"Nom : "</span>)
        qte  = <span class="py-builtin">int</span>(<span class="py-builtin">input</span>(<span class="py-str">"Quantit√© : "</span>))
        <span class="py-kw">while</span> qte <span class="py-kw">&lt;=</span> <span class="py-num">0</span>:
            qte = <span class="py-builtin">int</span>(<span class="py-builtin">input</span>(<span class="py-str">"Quantit√© : "</span>))
        pu = <span class="py-builtin">float</span>(<span class="py-builtin">input</span>(<span class="py-str">"Prix unitaire : "</span>))
        <span class="py-kw">while</span> pu <span class="py-kw">&lt;=</span> <span class="py-num">0</span>:
            pu = <span class="py-builtin">float</span>(<span class="py-builtin">input</span>(<span class="py-str">"Prix unitaire : "</span>))
        ligne = code + <span class="py-str">","</span> + nom + <span class="py-str">","</span> + <span class="py-builtin">str</span>(qte) + <span class="py-str">","</span> + <span class="py-builtin">str</span>(pu)
        F.write(ligne + <span class="py-str">"\n"</span>)
        rep = <span class="py-builtin">input</span>(<span class="py-str">"Voulez-vous ajouter un produit (O/N) ? "</span>)
        <span class="py-kw">while</span> rep != <span class="py-str">"O"</span> <span class="py-kw">and</span> rep != <span class="py-str">"N"</span>:
            rep = <span class="py-builtin">input</span>(<span class="py-str">"Voulez-vous ajouter un produit (O/N) ? "</span>)
    F.close()</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex2-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Cr√©er et remplir le fichier avec autant de produits que l'utilisateur veut, en lui demandant √† chaque fois s'il souhaite continuer.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On ne conna√Æt pas √† l'avance le nombre de produits. On utilise une boucle qui continue tant que l'utilisateur r√©pond <strong>"O"</strong>, et s'arr√™te d√®s qu'il r√©pond <strong>"N"</strong>.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">R√©p√©ter...Jusqu'√†</span><span>La boucle principale s'ex√©cute <strong>au moins une fois</strong> ‚Äî on saisit toujours au moins un produit.</span></div><div class="motcle-item"><span class="motcle-tag">rep ‚àä {"O","N"}</span><span>On valide que la r√©ponse est bien <strong>O ou N</strong> uniquement.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Ouvrir le fichier en mode <code>"w"</code></span></li><li><span class="step-num">2</span><span>Saisir les infos d'un produit et l'√©crire dans le fichier</span></li><li><span class="step-num">3</span><span>Demander : "Voulez-vous ajouter un produit (O/N) ?"</span></li><li><span class="step-num">4</span><span>Si "O" ‚Üí recommencer, si "N" ‚Üí sortir et fermer</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">Il faut valider la r√©ponse (O ou N uniquement). Une r√©ponse comme "o" minuscule ou "Oui" ne doit pas √™tre accept√©e.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 3 ===== -->
    <div class="exercise-card" id="ex3">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">3</div>
        <div class="ex-info">
          <div class="ex-name">Compter_Produits(nomf) : Entier</div>
          <div class="ex-desc">Retourner le nombre de produits (lignes) dans le fichier</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex3')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex3')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex3')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex3-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Fonction</span> <span class="fn">Compter_Produits</span> (<span class="type">nomf</span> : Cha√Æne) : <span class="type">Entier</span>
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    cpt <span class="op">‚Üê</span> <span class="num">0</span>
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(F)) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (F, ch)
        cpt <span class="op">‚Üê</span> cpt <span class="op">+</span> <span class="num">1</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (F)
    <span class="kw2">Retourner</span> cpt
<span class="kw2">FIN</span></pre>
          </div>
          <div>
            <div class="decl-title">D√©claration des objets locaux</div>
            <table>
              <tr><th>Objet</th><th>Type / Nature</th></tr>
              <tr><td>F</td><td>Fichier Texte</td></tr>
              <tr><td>cpt</td><td>Entier</td></tr>
              <tr><td>ch</td><td>Cha√Æne de caract√®res</td></tr>
            </table>
          </div>
        </div>
        <div class="code-panel" id="ex3-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Compter_Produits</span>(nomf):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    cpt = <span class="py-num">0</span>
    ch = F.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span>:
        cpt = cpt + <span class="py-num">1</span>
        ch = F.readline()
    F.close()
    <span class="py-kw">return</span> cpt</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex3-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Parcourir le fichier et compter le nombre de lignes, c'est-√†-dire le nombre total de produits.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On ouvre le fichier, on le lit ligne par ligne, et √† chaque ligne lue on incr√©mente un compteur. Quand on atteint la fin du fichier, le compteur donne le nombre total de produits.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">"r"</span><span>Mode <strong>lecture</strong> ‚Äî on lit le fichier sans le modifier.</span></div><div class="motcle-item"><span class="motcle-tag">Fin_Fichier(F)</span><span>Condition vraie quand toutes les lignes ont √©t√© lues.</span></div><div class="motcle-item"><span class="motcle-tag">cpt ‚Üê cpt + 1</span><span>On incr√©mente le compteur √† chaque ligne lue.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Ouvrir en lecture, initialiser <code>cpt ‚Üê 0</code></span></li><li><span class="step-num">2</span><span>Tant qu'on n'est pas √† la fin : lire une ligne, incr√©menter cpt</span></li><li><span class="step-num">3</span><span>Fermer le fichier et retourner cpt</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">Ne pas oublier d'initialiser <code>cpt ‚Üê 0</code> avant la boucle, sinon le compteur part d'une valeur al√©atoire.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 4 ===== -->
    <div class="exercise-card" id="ex4">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">4</div>
        <div class="ex-info">
          <div class="ex-name">Ajouter_Fin(nomf, code, nom, qte, pu)</div>
          <div class="ex-desc">Ajouter un produit √† la fin du fichier sans √©craser le contenu</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex4')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex4')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex4')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex4-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Ajouter_Fin</span> (<span class="type">nomf, code, nom</span> : Cha√Æne, <span class="type">qte</span> : Entier, <span class="type">pu</span> : R√©el)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"a"</span>)  <span class="cm">{ mode ajout }</span>
    ligne <span class="op">‚Üê</span> code <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> nom <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(qte) <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(pu)
    <span class="kw2">Ecrire_nl</span> (F, ligne)
    <span class="kw2">Fermer</span> (F)
<span class="kw2">FIN</span></pre>
          </div>
          <div>
            <div class="decl-title">D√©claration des objets locaux</div>
            <table>
              <tr><th>Objet</th><th>Type / Nature</th></tr>
              <tr><td>F</td><td>Fichier Texte</td></tr>
              <tr><td>ligne</td><td>Cha√Æne de caract√®res</td></tr>
            </table>
          </div>
        </div>
        <div class="code-panel" id="ex4-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Ajouter_Fin</span>(nomf, code, nom, qte, pu):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'a'</span>)
    ligne = code + <span class="py-str">","</span> + nom + <span class="py-str">","</span> + <span class="py-builtin">str</span>(qte) + <span class="py-str">","</span> + <span class="py-builtin">str</span>(pu)
    F.write(ligne + <span class="py-str">"\n"</span>)
    F.close()</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex4-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Ajouter un nouveau produit <strong>√† la fin</strong> du fichier sans effacer les produits d√©j√† enregistr√©s.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On ouvre le fichier en mode <strong>ajout</strong> ‚Äî le curseur se place automatiquement √† la fin. On √©crit la nouvelle ligne puis on ferme. Comme √©crire sur la prochaine page vierge d'un cahier d√©j√† rempli.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">"a"</span><span>Mode <strong>ajout (append)</strong> ‚Äî le curseur se place √† la fin, l'ancien contenu est <strong>pr√©serv√©</strong>.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Ouvrir en mode ajout <code>"a"</code></span></li><li><span class="step-num">2</span><span>Construire la ligne : <code>code,nom,qte,pu</code></span></li><li><span class="step-num">3</span><span>√âcrire la ligne √† la fin du fichier</span></li><li><span class="step-num">4</span><span>Fermer le fichier</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">Ne jamais utiliser <code>"w"</code> ici ! Le mode <code>"w"</code> effacerait tout le contenu existant.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 5 ===== -->
    <div class="exercise-card" id="ex5">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">5</div>
        <div class="ex-info">
          <div class="ex-name">Ajouter_Debut(nomf, code, nom, qte, pu)</div>
          <div class="ex-desc">Ins√©rer un produit en premi√®re ligne du fichier</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex5')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex5')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex5')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex5-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Ajouter_Debut</span> (<span class="type">nomf, code, nom</span> : Cha√Æne, <span class="type">qte</span> : Entier, <span class="type">pu</span> : R√©el)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    <span class="kw2">Lire</span> (F, contenu)      <span class="cm">{ lire tout le fichier }</span>
    <span class="kw2">Fermer</span> (F)
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"w"</span>)
    ligne <span class="op">‚Üê</span> code <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> nom <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(qte) <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(pu)
    <span class="kw2">Ecrire_nl</span> (F, ligne)   <span class="cm">{ nouveau produit en premier }</span>
    <span class="kw2">Ecrire</span> (F, contenu)    <span class="cm">{ reste du fichier }</span>
    <span class="kw2">Fermer</span> (F)
<span class="kw2">FIN</span></pre>
          </div>
          <div>
            <div class="decl-title">D√©claration des objets locaux</div>
            <table>
              <tr><th>Objet</th><th>Type / Nature</th></tr>
              <tr><td>F</td><td>Fichier Texte</td></tr>
              <tr><td>ligne, contenu</td><td>Cha√Æne de caract√®res</td></tr>
            </table>
          </div>
        </div>
        <div class="code-panel" id="ex5-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Ajouter_Debut</span>(nomf, code, nom, qte, pu):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    contenu = F.read()
    F.close()
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'w'</span>)
    ligne = code + <span class="py-str">","</span> + nom + <span class="py-str">","</span> + <span class="py-builtin">str</span>(qte) + <span class="py-str">","</span> + <span class="py-builtin">str</span>(pu)
    F.write(ligne + <span class="py-str">"\n"</span>)
    F.write(contenu)
    F.close()</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex5-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Ins√©rer un nouveau produit tout en haut du fichier, de sorte qu'il devienne la <strong>premi√®re ligne</strong>.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On ne peut pas ins√©rer une ligne au d√©but directement. L'astuce : on lit tout le contenu du fichier en m√©moire, on r√©√©crit le fichier en mettant <strong>d'abord le nouveau produit</strong>, puis on recopie l'ancien contenu √† la suite.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">Lire (F, contenu)</span><span>Lit <strong>tout le fichier</strong> d'un coup dans une variable.</span></div><div class="motcle-item"><span class="motcle-tag">"w"</span><span>On r√©ouvre en √©criture pour tout r√©√©crire dans le bon ordre.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Lire tout le contenu existant dans <code>contenu</code></span></li><li><span class="step-num">2</span><span>Fermer, puis rouvrir en √©criture <code>"w"</code></span></li><li><span class="step-num">3</span><span>√âcrire d'abord la <strong>nouvelle ligne</strong></span></li><li><span class="step-num">4</span><span>√âcrire ensuite <strong>l'ancien contenu</strong></span></li><li><span class="step-num">5</span><span>Fermer le fichier</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">L'ordre d'√©criture est crucial : nouveau produit <strong>d'abord</strong>, ancien contenu <strong>ensuite</strong>. Inverser les deux et le produit se retrouvera √† la fin !</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 6 ===== -->
    <div class="exercise-card" id="ex6">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">6</div>
        <div class="ex-info">
          <div class="ex-name">Rechercher(nomf, code_rech) : Bool√©en</div>
          <div class="ex-desc">V√©rifier si un produit identifi√© par son code existe dans le fichier</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex6')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex6')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex6')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex6-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Fonction</span> <span class="fn">Rechercher</span> (<span class="type">nomf, code_rech</span> : Cha√Æne) : <span class="type">Bool√©en</span>
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    trouve <span class="op">‚Üê</span> <span class="kw">Faux</span>
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(F)) <span class="kw">Et</span> (trouve <span class="op">=</span> <span class="kw">Faux</span>) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (F, ch)
        code <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
        <span class="kw2">Si</span> code <span class="op">=</span> code_rech <span class="kw2">Alors</span>
            trouve <span class="op">‚Üê</span> <span class="kw">Vrai</span>
        <span class="kw2">FinSi</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (F)
    <span class="kw2">Retourner</span> trouve
<span class="kw2">FIN</span></pre>
          </div>
          <div>
            <div class="decl-title">D√©claration des objets locaux</div>
            <table>
              <tr><th>Objet</th><th>Type / Nature</th></tr>
              <tr><td>F</td><td>Fichier Texte</td></tr>
              <tr><td>trouve</td><td>Bool√©en</td></tr>
              <tr><td>ch, code</td><td>Cha√Æne de caract√®res</td></tr>
            </table>
          </div>
        </div>
        <div class="code-panel" id="ex6-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Rechercher</span>(nomf, code_rech):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    trouve = <span class="py-kw">False</span>
    ch = F.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span> <span class="py-kw">and</span> trouve == <span class="py-kw">False</span>:
        code = ch[<span class="py-num">0</span>:ch.find(<span class="py-str">","</span>)]
        <span class="py-kw">if</span> code == code_rech:
            trouve = <span class="py-kw">True</span>
        <span class="py-kw">else</span>:
            ch = F.readline()
    F.close()
    <span class="py-kw">return</span> trouve</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex6-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Chercher si un produit avec un code donn√© existe dans le fichier, et retourner <strong>Vrai</strong> ou <strong>Faux</strong>.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On parcourt le fichier ligne par ligne. Pour chaque ligne, on extrait le code (tout ce qui est avant la premi√®re virgule) et on le compare au code recherch√©. D√®s qu'on trouve une correspondance, on s'arr√™te et on retourne Vrai. Si on arrive √† la fin sans trouver, on retourne Faux.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">trouve ‚Üê Faux</span><span>On part du principe que le produit n'existe pas, et on passe √† Vrai seulement si trouv√©.</span></div><div class="motcle-item"><span class="motcle-tag">Pos(",", ch)</span><span>Donne la position de la <strong>premi√®re virgule</strong> ‚Äî tout ce qui est avant est le code.</span></div><div class="motcle-item"><span class="motcle-tag">Et (trouve = Faux)</span><span>On arr√™te la boucle d√®s qu'on a trouv√© ‚Äî inutile de continuer.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Ouvrir en lecture, initialiser <code>trouve ‚Üê Faux</code></span></li><li><span class="step-num">2</span><span>Lire chaque ligne et extraire le code (avant la 1√®re virgule)</span></li><li><span class="step-num">3</span><span>Si code = code cherch√© ‚Üí <code>trouve ‚Üê Vrai</code></span></li><li><span class="step-num">4</span><span>Fermer et retourner <code>trouve</code></span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">La condition de boucle doit tester <strong>√† la fois</strong> la fin du fichier ET que le produit n'est pas encore trouv√©. Sinon on continue √† lire inutilement.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 7 ===== -->
    <div class="exercise-card" id="ex7">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">7</div>
        <div class="ex-info">
          <div class="ex-name">Ajouter_Si_Nouveau(nomf, code, nom, qte, pu)</div>
          <div class="ex-desc">Ajouter un produit uniquement s'il n'existe pas d√©j√† (utilise Rechercher)</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex7')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex7')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex7')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex7-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Ajouter_Si_Nouveau</span> (<span class="type">nomf, code, nom</span> : Cha√Æne, <span class="type">qte</span> : Entier, <span class="type">pu</span> : R√©el)
<span class="kw2">DEBUT</span>
    <span class="kw2">Si</span> <span class="fn">Rechercher</span>(nomf, code) <span class="op">=</span> <span class="kw">Vrai</span> <span class="kw2">Alors</span>
        <span class="kw2">Ecrire</span> (<span class="str">"Produit d√©j√† existant"</span>)
    <span class="kw2">Sinon</span>
        <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"a"</span>)
        ligne <span class="op">‚Üê</span> code <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> nom <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(qte) <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(pu)
        <span class="kw2">Ecrire_nl</span> (F, ligne)
        <span class="kw2">Fermer</span> (F)
        <span class="kw2">Ecrire</span> (<span class="str">"Produit ajout√© avec succ√®s"</span>)
    <span class="kw2">FinSi</span>
<span class="kw2">FIN</span></pre>
          </div>
        </div>
        <div class="code-panel" id="ex7-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Ajouter_Si_Nouveau</span>(nomf, code, nom, qte, pu):
    <span class="py-kw">if</span> <span class="py-fn">Rechercher</span>(nomf, code) == <span class="py-kw">True</span>:
        <span class="py-builtin">print</span>(<span class="py-str">"Produit d√©j√† existant"</span>)
    <span class="py-kw">else</span>:
        F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'a'</span>)
        ligne = code + <span class="py-str">","</span> + nom + <span class="py-str">","</span> + <span class="py-builtin">str</span>(qte) + <span class="py-str">","</span> + <span class="py-builtin">str</span>(pu)
        F.write(ligne + <span class="py-str">"\n"</span>)
        F.close()
        <span class="py-builtin">print</span>(<span class="py-str">"Produit ajout√© avec succ√®s"</span>)</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex7-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Ajouter un produit au fichier <strong>seulement s'il n'existe pas d√©j√†</strong>, pour √©viter les doublons.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On r√©utilise la fonction <strong>Rechercher</strong> d√©j√† √©crite. Si elle retourne Vrai, le produit existe ‚Äî on affiche un message. Si elle retourne Faux, le produit est nouveau ‚Äî on l'ajoute √† la fin du fichier.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">Rechercher()</span><span>On <strong>r√©utilise</strong> une fonction d√©j√† √©crite ‚Äî c'est le principe de la modularit√©.</span></div><div class="motcle-item"><span class="motcle-tag">"a"</span><span>On ajoute √† la fin seulement si le produit est nouveau.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Appeler <code>Rechercher(nomf, code)</code></span></li><li><span class="step-num">2</span><span>Si Vrai ‚Üí afficher "Produit d√©j√† existant"</span></li><li><span class="step-num">3</span><span>Si Faux ‚Üí ouvrir en <code>"a"</code>, √©crire le produit, fermer</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">C'est la v√©rification par <strong>code</strong> qui compte. Deux produits peuvent avoir le m√™me nom mais des codes diff√©rents ‚Äî seul le code identifie un produit de fa√ßon unique.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 8 ===== -->
    <div class="exercise-card" id="ex8">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">8</div>
        <div class="ex-info">
          <div class="ex-name">Generer_Commande(nomf_source, nomf_commande, seuil)</div>
          <div class="ex-desc">Cr√©er un fichier de commande pour les produits dont la quantit√© &lt; seuil</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="remark"><span class="remark-icon">üí°</span><span>Quantit√© √† commander = seuil ‚àí quantit√© actuelle. Format : Code,Nom,Qte_√†_commander</span></div>
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex8')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex8')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex8')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex8-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Generer_Commande</span> (<span class="type">nomf_source, nomf_commande</span> : Cha√Æne, <span class="type">seuil</span> : Entier)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf_source, Fs, <span class="str">"r"</span>)
    <span class="kw2">Ouvrir</span> (nomf_commande, Fc, <span class="str">"w"</span>)
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(Fs)) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (Fs, ch)
        code <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
        ch   <span class="op">‚Üê</span> <span class="fn">Effacer</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>)
        nom  <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
        ch   <span class="op">‚Üê</span> <span class="fn">Effacer</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>)
        qte  <span class="op">‚Üê</span> <span class="fn">Valeur</span>(<span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)))
        <span class="kw2">Si</span> qte <span class="op">&lt;</span> seuil <span class="kw2">Alors</span>
            qte_commander <span class="op">‚Üê</span> seuil <span class="op">-</span> qte
            ligne_cmd <span class="op">‚Üê</span> code <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> nom <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(qte_commander)
            <span class="kw2">Ecrire_nl</span> (Fc, ligne_cmd)
        <span class="kw2">FinSi</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (Fs)
    <span class="kw2">Fermer</span> (Fc)
<span class="kw2">FIN</span></pre>
          </div>
          <div>
            <div class="decl-title">D√©claration des objets locaux</div>
            <table>
              <tr><th>Objet</th><th>Type / Nature</th></tr>
              <tr><td>Fs, Fc</td><td>Fichier Texte</td></tr>
              <tr><td>ch, code, nom, ligne_cmd</td><td>Cha√Æne de caract√®res</td></tr>
              <tr><td>qte, qte_commander</td><td>Entier</td></tr>
            </table>
          </div>
        </div>
        <div class="code-panel" id="ex8-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Generer_Commande</span>(nomf_source, nomf_commande, seuil):
    Fs = <span class="py-builtin">open</span>(nomf_source, <span class="py-str">'r'</span>)
    Fc = <span class="py-builtin">open</span>(nomf_commande, <span class="py-str">'w'</span>)
    ch = Fs.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span>:
        ch = ch[<span class="py-num">0</span>:<span class="py-num">-1</span>]   <span class="py-cm"># supprimer \n</span>
        p    = ch.find(<span class="py-str">","</span>)
        code = ch[<span class="py-num">0</span>:p]
        ch   = ch[p<span class="py-num">+1</span>:]
        p    = ch.find(<span class="py-str">","</span>)
        nom  = ch[<span class="py-num">0</span>:p]
        ch   = ch[p<span class="py-num">+1</span>:]
        p    = ch.find(<span class="py-str">","</span>)
        qte  = <span class="py-builtin">int</span>(ch[<span class="py-num">0</span>:p])
        <span class="py-kw">if</span> qte &lt; seuil:
            qte_commander = seuil - qte
            ligne_cmd = code + <span class="py-str">","</span> + nom + <span class="py-str">","</span> + <span class="py-builtin">str</span>(qte_commander)
            Fc.write(ligne_cmd + <span class="py-str">"\n"</span>)
        ch = Fs.readline()
    Fs.close()
    Fc.close()</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex8-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">G√©n√©rer un fichier de commande listant tous les produits dont la quantit√© est inf√©rieure √† un seuil donn√©.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On lit le fichier source ligne par ligne. Pour chaque produit, on extrait la quantit√©. Si elle est inf√©rieure au seuil, on calcule ce qu'il faut commander (<code>seuil - qte</code>) et on l'√©crit dans le fichier de commande.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">Deux fichiers</span><span>Un en <strong>lecture</strong> (source) et un en <strong>√©criture</strong> (commande), ouverts simultan√©ment.</span></div><div class="motcle-item"><span class="motcle-tag">seuil - qte</span><span>La quantit√© √† commander = ce qu'il manque pour atteindre le seuil.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Ouvrir le fichier source en lecture et le fichier commande en √©criture</span></li><li><span class="step-num">2</span><span>Pour chaque ligne : extraire code, nom et quantit√©</span></li><li><span class="step-num">3</span><span>Si <code>qte &lt; seuil</code> : calculer et √©crire dans le fichier commande</span></li><li><span class="step-num">4</span><span>Fermer les deux fichiers</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">Ne pas oublier de fermer <strong>les deux fichiers</strong> √† la fin. Si on ne ferme pas le fichier commande, son contenu peut ne pas √™tre sauvegard√© correctement.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 9 ===== -->
    <div class="exercise-card" id="ex9">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">9</div>
        <div class="ex-info">
          <div class="ex-name">Filtrer(nomf, nomf_chers, nomf_eco, seuil)</div>
          <div class="ex-desc">S√©parer les produits en deux fichiers selon leur prix unitaire</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex9')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex9')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex9')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex9-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="cm">{ Fonction auxiliaire }</span>
<span class="kw">Fonction</span> <span class="fn">Extraire_Prix</span> (<span class="type">ch</span> : Cha√Æne) : <span class="type">R√©el</span>
<span class="kw2">DEBUT</span>
    p <span class="op">‚Üê</span> <span class="fn">Long</span>(ch) <span class="op">-</span> <span class="num">1</span>
    <span class="kw2">Tant que</span> ch[p] <span class="op">‚â†</span> <span class="str">","</span> <span class="kw2">Faire</span>
        p <span class="op">‚Üê</span> p <span class="op">-</span> <span class="num">1</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Retourner</span> <span class="fn">Valeur</span>(<span class="fn">Sous_chaine</span>(ch, p<span class="op">+</span><span class="num">1</span>, <span class="fn">Long</span>(ch)))
<span class="kw2">FIN</span>

<span class="kw">Proc√©dure</span> <span class="fn">Filtrer</span> (<span class="type">nomf, nomf_chers, nomf_eco</span> : Cha√Æne, <span class="type">seuil</span> : R√©el)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    <span class="kw2">Ouvrir</span> (nomf_chers, Fc, <span class="str">"w"</span>)
    <span class="kw2">Ouvrir</span> (nomf_eco, Fe, <span class="str">"w"</span>)
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(F)) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (F, ch)
        pu <span class="op">‚Üê</span> <span class="fn">Extraire_Prix</span>(ch)
        <span class="kw2">Si</span> pu <span class="op">&gt;</span> seuil <span class="kw2">Alors</span>
            <span class="kw2">Ecrire_nl</span> (Fc, ch)
        <span class="kw2">Sinon</span>
            <span class="kw2">Ecrire_nl</span> (Fe, ch)
        <span class="kw2">FinSi</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (F)  <span class="kw2">Fermer</span> (Fc)  <span class="kw2">Fermer</span> (Fe)
<span class="kw2">FIN</span></pre>
          </div>
        </div>
        <div class="code-panel" id="ex9-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Extraire_Prix</span>(ch):
    p = <span class="py-builtin">len</span>(ch) - <span class="py-num">1</span>
    <span class="py-kw">while</span> ch[p] != <span class="py-str">","</span>:
        p = p - <span class="py-num">1</span>
    <span class="py-kw">return</span> <span class="py-builtin">float</span>(ch[p<span class="py-num">+1</span>:])

<span class="py-kw">def</span> <span class="py-fn">Filtrer</span>(nomf, nomf_chers, nomf_eco, seuil):
    F  = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    Fc = <span class="py-builtin">open</span>(nomf_chers, <span class="py-str">'w'</span>)
    Fe = <span class="py-builtin">open</span>(nomf_eco, <span class="py-str">'w'</span>)
    ch = F.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span>:
        pu = <span class="py-fn">Extraire_Prix</span>(ch[<span class="py-num">0</span>:<span class="py-num">-1</span>])
        <span class="py-kw">if</span> pu > seuil:
            Fc.write(ch)
        <span class="py-kw">else</span>:
            Fe.write(ch)
        ch = F.readline()
    F.close()  ;  Fc.close()  ;  Fe.close()</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex9-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">S√©parer les produits en deux fichiers : les <strong>chers</strong> (prix &gt; seuil) et les <strong>√©conomiques</strong> (prix ‚â§ seuil).</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On ouvre <strong>trois fichiers</strong> simultan√©ment : le source en lecture, et les deux destinations en √©criture. Pour chaque ligne lue, on extrait le prix et on redirige la ligne vers le bon fichier selon le seuil.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">Extraire_Prix(ch)</span><span>Parcourt la ligne <strong>de droite √† gauche</strong> pour trouver la derni√®re virgule et extraire le prix.</span></div><div class="motcle-item"><span class="motcle-tag">3 fichiers</span><span>F (lecture), Fc (chers), Fe (√©co) ‚Äî tous ouverts en m√™me temps.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Ouvrir les trois fichiers</span></li><li><span class="step-num">2</span><span>Pour chaque ligne : extraire le prix avec <code>Extraire_Prix</code></span></li><li><span class="step-num">3</span><span>Si prix &gt; seuil ‚Üí √©crire dans "chers", sinon ‚Üí √©crire dans "√©co"</span></li><li><span class="step-num">4</span><span>Fermer les trois fichiers</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text"><code>Extraire_Prix</code> parcourt depuis la droite car le prix est le <strong>dernier champ</strong> de la ligne CSV.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 10 ===== -->
    <div class="exercise-card" id="ex10">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">10</div>
        <div class="ex-info">
          <div class="ex-name">Supprimer_Produit(nomf, code_supp)</div>
          <div class="ex-desc">Supprimer un produit identifi√© par son code du fichier</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex10')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex10')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex10')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex10-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Supprimer_Produit</span> (<span class="type">nomf, code_supp</span> : Cha√Æne)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    n <span class="op">‚Üê</span> <span class="num">0</span>     trouve <span class="op">‚Üê</span> <span class="kw">Faux</span>
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(F)) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (F, ch)
        code <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
        <span class="kw2">Si</span> code <span class="op">‚â†</span> code_supp <span class="kw2">Alors</span>
            T[n] <span class="op">‚Üê</span> ch     n <span class="op">‚Üê</span> n <span class="op">+</span> <span class="num">1</span>
        <span class="kw2">Sinon</span>
            trouve <span class="op">‚Üê</span> <span class="kw">Vrai</span>
        <span class="kw2">FinSi</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (F)
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"w"</span>)
    <span class="kw2">Pour</span> i <span class="kw2">de</span> <span class="num">0</span> <span class="kw2">√†</span> n<span class="op">-</span><span class="num">1</span> <span class="kw2">Faire</span>
        <span class="kw2">Ecrire_nl</span> (F, T[i])
    <span class="kw2">Fin Pour</span>
    <span class="kw2">Fermer</span> (F)
    <span class="kw2">Si</span> trouve <span class="op">=</span> <span class="kw">Faux</span> <span class="kw2">Alors</span>
        <span class="kw2">Ecrire</span> (<span class="str">"Produit inexistant"</span>)
    <span class="kw2">Sinon</span>
        <span class="kw2">Ecrire</span> (<span class="str">"Produit supprim√© avec succ√®s"</span>)
    <span class="kw2">FinSi</span>
<span class="kw2">FIN</span></pre>
          </div>
        </div>
        <div class="code-panel" id="ex10-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">from</span> numpy <span class="py-kw">import</span> array

<span class="py-kw">def</span> <span class="py-fn">Supprimer_Produit</span>(nomf, code_supp):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    T = array([str] * <span class="py-num">100</span>)
    n = <span class="py-num">0</span>  ;  trouve = <span class="py-kw">False</span>
    ch = F.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span>:
        code = ch[<span class="py-num">0</span>:ch.find(<span class="py-str">","</span>)]
        <span class="py-kw">if</span> code != code_supp:
            T[n] = ch  ;  n = n + <span class="py-num">1</span>
        <span class="py-kw">else</span>:
            trouve = <span class="py-kw">True</span>
        ch = F.readline()
    F.close()
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'w'</span>)
    <span class="py-kw">for</span> i <span class="py-kw">in</span> <span class="py-builtin">range</span>(<span class="py-num">0</span>, n):
        F.write(T[i])
    F.close()
    <span class="py-kw">if</span> trouve == <span class="py-kw">False</span>:
        <span class="py-builtin">print</span>(<span class="py-str">"Produit inexistant"</span>)
    <span class="py-kw">else</span>:
        <span class="py-builtin">print</span>(<span class="py-str">"Produit supprim√© avec succ√®s"</span>)</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex10-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Supprimer du fichier le produit dont le code correspond √† <code>code_supp</code>. Si le produit n'existe pas, afficher un message.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On ne peut pas effacer une ligne directement dans un fichier texte. L'astuce : on lit toutes les lignes et on les stocke dans un tableau en <strong>sautant celle √† supprimer</strong>. Ensuite on r√©√©crit le fichier entier √† partir du tableau.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">Tableau T</span><span>Stocke toutes les lignes <strong>√† conserver</strong> (sauf celle √† supprimer).</span></div><div class="motcle-item"><span class="motcle-tag">trouve</span><span>Bool√©en pour savoir si le produit existait ‚Äî permet d'afficher le bon message.</span></div><div class="motcle-item"><span class="motcle-tag">R√©√©criture "w"</span><span>On r√©√©crit le fichier avec uniquement les lignes conserv√©es.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Lire toutes les lignes du fichier</span></li><li><span class="step-num">2</span><span>Si code ‚â† code_supp ‚Üí stocker dans T ; sinon ‚Üí sauter et mettre <code>trouve ‚Üê Vrai</code></span></li><li><span class="step-num">3</span><span>R√©√©crire le fichier avec les lignes de T</span></li><li><span class="step-num">4</span><span>Afficher le message selon <code>trouve</code></span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">Ne pas oublier de r√©√©crire le fichier apr√®s la lecture ! Sans cette √©tape, le fichier reste intact et rien n'est supprim√©.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 11 ===== -->
    <div class="exercise-card" id="ex11">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">11</div>
        <div class="ex-info">
          <div class="ex-name">Valeur_Stock_Total(nomf) : R√©el</div>
          <div class="ex-desc">Calculer la valeur totale du stock = Œ£ (quantit√© √ó prix unitaire)</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex11')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex11')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex11')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex11-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Fonction</span> <span class="fn">Valeur_Stock_Total</span> (<span class="type">nomf</span> : Cha√Æne) : <span class="type">R√©el</span>
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    total <span class="op">‚Üê</span> <span class="num">0</span>
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(F)) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (F, ch)
        ch  <span class="op">‚Üê</span> <span class="fn">Effacer</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>)  <span class="cm">{ sauter code }</span>
        ch  <span class="op">‚Üê</span> <span class="fn">Effacer</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>)  <span class="cm">{ sauter nom }</span>
        qte <span class="op">‚Üê</span> <span class="fn">Valeur</span>(<span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)))
        pu  <span class="op">‚Üê</span> <span class="fn">Valeur</span>(<span class="fn">Sous_chaine</span>(ch, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>, <span class="fn">Long</span>(ch)))
        total <span class="op">‚Üê</span> total <span class="op">+</span> (qte <span class="op">√ó</span> pu)
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (F)
    <span class="kw2">Retourner</span> total
<span class="kw2">FIN</span></pre>
          </div>
        </div>
        <div class="code-panel" id="ex11-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">def</span> <span class="py-fn">Valeur_Stock_Total</span>(nomf):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    total = <span class="py-num">0</span>
    ch = F.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span>:
        ch = ch[<span class="py-num">0</span>:<span class="py-num">-1</span>]
        ch = ch[ch.find(<span class="py-str">","</span>)<span class="py-num">+1</span>:]  <span class="py-cm"># sauter code</span>
        ch = ch[ch.find(<span class="py-str">","</span>)<span class="py-num">+1</span>:]  <span class="py-cm"># sauter nom</span>
        p   = ch.find(<span class="py-str">","</span>)
        qte = <span class="py-builtin">int</span>(ch[<span class="py-num">0</span>:p])
        pu  = <span class="py-builtin">float</span>(ch[p<span class="py-num">+1</span>:])
        total = total + (qte * pu)
        ch = F.readline()
    F.close()
    <span class="py-kw">return</span> total</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex11-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Calculer et retourner la <strong>valeur totale du stock</strong> = somme de (quantit√© √ó prix unitaire) pour chaque produit.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On parcourt le fichier ligne par ligne. Pour chaque ligne, on extrait la quantit√© et le prix, on calcule leur produit, et on l'ajoute √† un accumulateur <code>total</code>. √Ä la fin, on retourne ce total.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">total ‚Üê 0</span><span>Accumulateur initialis√© √† 0 ‚Äî on y ajoute la valeur de chaque produit.</span></div><div class="motcle-item"><span class="motcle-tag">Effacer √ó 2</span><span>On saute le code puis le nom pour arriver directement aux champs quantit√© et prix.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Ouvrir en lecture, initialiser <code>total ‚Üê 0</code></span></li><li><span class="step-num">2</span><span>Pour chaque ligne : sauter code et nom, extraire qte et pu</span></li><li><span class="step-num">3</span><span>Ajouter <code>qte √ó pu</code> au total</span></li><li><span class="step-num">4</span><span>Fermer et retourner <code>total</code></span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">Bien convertir <code>qte</code> en entier et <code>pu</code> en r√©el avant la multiplication, sinon le r√©sultat sera incorrect.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 12 ===== -->
    <div class="exercise-card" id="ex12">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">12</div>
        <div class="ex-info">
          <div class="ex-name">Modifier_Prix(nomf, code_modif, nouveau_prix)</div>
          <div class="ex-desc">Modifier le prix unitaire d'un produit identifi√© par son code</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex12')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex12')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex12')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex12-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Modifier_Prix</span> (<span class="type">nomf, code_modif</span> : Cha√Æne, <span class="type">nouveau_prix</span> : R√©el)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    n <span class="op">‚Üê</span> <span class="num">0</span>     trouve <span class="op">‚Üê</span> <span class="kw">Faux</span>
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(F)) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (F, ch)
        code <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
        <span class="kw2">Si</span> code <span class="op">=</span> code_modif <span class="kw2">Alors</span>
            trouve <span class="op">‚Üê</span> <span class="kw">Vrai</span>
            ch  <span class="op">‚Üê</span> <span class="fn">Effacer</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>)
            nom <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
            ch  <span class="op">‚Üê</span> <span class="fn">Effacer</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>)
            qte <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
            T[n] <span class="op">‚Üê</span> code <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> nom <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> qte <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(nouveau_prix)
        <span class="kw2">Sinon</span>
            T[n] <span class="op">‚Üê</span> ch
        <span class="kw2">FinSi</span>
        n <span class="op">‚Üê</span> n <span class="op">+</span> <span class="num">1</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (F)
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"w"</span>)
    <span class="kw2">Pour</span> i <span class="kw2">de</span> <span class="num">0</span> <span class="kw2">√†</span> n<span class="op">-</span><span class="num">1</span> <span class="kw2">Faire</span>
        <span class="kw2">Ecrire_nl</span> (F, T[i])
    <span class="kw2">Fin Pour</span>
    <span class="kw2">Fermer</span> (F)
    <span class="kw2">Si</span> trouve <span class="op">=</span> <span class="kw">Faux</span> <span class="kw2">Alors</span>
        <span class="kw2">Ecrire</span> (<span class="str">"Produit inexistant"</span>)
    <span class="kw2">FinSi</span>
<span class="kw2">FIN</span></pre>
          </div>
        </div>
        <div class="code-panel" id="ex12-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">from</span> numpy <span class="py-kw">import</span> array

<span class="py-kw">def</span> <span class="py-fn">Modifier_Prix</span>(nomf, code_modif, nouveau_prix):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    T = array([str] * <span class="py-num">100</span>)
    n = <span class="py-num">0</span>  ;  trouve = <span class="py-kw">False</span>
    ch = F.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span>:
        code = ch[<span class="py-num">0</span>:ch.find(<span class="py-str">","</span>)]
        <span class="py-kw">if</span> code == code_modif:
            trouve = <span class="py-kw">True</span>
            ch  = ch[ch.find(<span class="py-str">","</span>)<span class="py-num">+1</span>:]
            nom = ch[<span class="py-num">0</span>:ch.find(<span class="py-str">","</span>)]
            ch  = ch[ch.find(<span class="py-str">","</span>)<span class="py-num">+1</span>:]
            qte = ch[<span class="py-num">0</span>:ch.find(<span class="py-str">","</span>)]
            T[n] = code + <span class="py-str">","</span> + nom + <span class="py-str">","</span> + qte + <span class="py-str">","</span> + <span class="py-builtin">str</span>(nouveau_prix) + <span class="py-str">"\n"</span>
        <span class="py-kw">else</span>:
            T[n] = ch
        n = n + <span class="py-num">1</span>
        ch = F.readline()
    F.close()
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'w'</span>)
    <span class="py-kw">for</span> i <span class="py-kw">in</span> <span class="py-builtin">range</span>(<span class="py-num">0</span>, n):
        F.write(T[i])
    F.close()
    <span class="py-kw">if</span> trouve == <span class="py-kw">False</span>:
        <span class="py-builtin">print</span>(<span class="py-str">"Produit inexistant"</span>)</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex12-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Modifier le prix unitaire d'un produit sp√©cifique identifi√© par son code, sans toucher aux autres produits.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">M√™me technique que la suppression : on lit toutes les lignes dans un tableau. La ligne du produit √† modifier est <strong>reconstruite</strong> avec le nouveau prix. Toutes les autres sont copi√©es telles quelles. On r√©√©crit ensuite le fichier.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">Reconstruction</span><span>On recr√©e la ligne : <code>code + "," + nom + "," + qte + "," + nouveau_prix</code></span></div><div class="motcle-item"><span class="motcle-tag">trouve</span><span>Permet de savoir si le produit existait pour afficher le message appropri√©.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Lire toutes les lignes dans le tableau T</span></li><li><span class="step-num">2</span><span>Si code = code_modif ‚Üí reconstruire la ligne avec le nouveau prix</span></li><li><span class="step-num">3</span><span>Sinon ‚Üí copier la ligne telle quelle</span></li><li><span class="step-num">4</span><span>R√©√©crire le fichier complet et afficher le message</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">On modifie <strong>uniquement le prix</strong>. Bien extraire le code, nom et quantit√© avant de reconstruire la ligne.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 13 ===== -->
    <div class="exercise-card" id="ex13">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">13</div>
        <div class="ex-info">
          <div class="ex-name">Augmenter_Prix(nomf, pourcentage)</div>
          <div class="ex-desc">Augmenter le prix de tous les produits d'un pourcentage donn√©</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="remark"><span class="remark-icon">üìê</span><span>Formule : nouveau_prix ‚Üê ancien_prix √ó (1 + pourcentage / 100)</span></div>
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex13')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex13')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex13')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex13-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Augmenter_Prix</span> (<span class="type">nomf</span> : Cha√Æne, <span class="type">pourcentage</span> : R√©el)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    n <span class="op">‚Üê</span> <span class="num">0</span>
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(F)) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (F, ch)
        code <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
        ch   <span class="op">‚Üê</span> <span class="fn">Effacer</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>)
        nom  <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
        ch   <span class="op">‚Üê</span> <span class="fn">Effacer</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>)
        qte  <span class="op">‚Üê</span> <span class="fn">Sous_chaine</span>(ch, <span class="num">0</span>, <span class="fn">Pos</span>(<span class="str">","</span>, ch))
        pu   <span class="op">‚Üê</span> <span class="fn">Valeur</span>(<span class="fn">Sous_chaine</span>(ch, <span class="fn">Pos</span>(<span class="str">","</span>, ch)<span class="op">+</span><span class="num">1</span>, <span class="fn">Long</span>(ch)))
        nouveau_pu <span class="op">‚Üê</span> pu <span class="op">√ó</span> (<span class="num">1</span> <span class="op">+</span> pourcentage <span class="op">/</span> <span class="num">100</span>)
        T[n] <span class="op">‚Üê</span> code <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> nom <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> qte <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(nouveau_pu)
        n <span class="op">‚Üê</span> n <span class="op">+</span> <span class="num">1</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (F)
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"w"</span>)
    <span class="kw2">Pour</span> i <span class="kw2">de</span> <span class="num">0</span> <span class="kw2">√†</span> n<span class="op">-</span><span class="num">1</span> <span class="kw2">Faire</span>
        <span class="kw2">Ecrire_nl</span> (F, T[i])
    <span class="kw2">Fin Pour</span>
    <span class="kw2">Fermer</span> (F)
<span class="kw2">FIN</span></pre>
          </div>
        </div>
        <div class="code-panel" id="ex13-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">from</span> numpy <span class="py-kw">import</span> array

<span class="py-kw">def</span> <span class="py-fn">Augmenter_Prix</span>(nomf, pourcentage):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    T = array([str] * <span class="py-num">100</span>)
    n = <span class="py-num">0</span>
    ch = F.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span>:
        ch   = ch[<span class="py-num">0</span>:<span class="py-num">-1</span>]
        code = ch[<span class="py-num">0</span>:ch.find(<span class="py-str">","</span>)]
        ch   = ch[ch.find(<span class="py-str">","</span>)<span class="py-num">+1</span>:]
        nom  = ch[<span class="py-num">0</span>:ch.find(<span class="py-str">","</span>)]
        ch   = ch[ch.find(<span class="py-str">","</span>)<span class="py-num">+1</span>:]
        qte  = ch[<span class="py-num">0</span>:ch.find(<span class="py-str">","</span>)]
        pu   = <span class="py-builtin">float</span>(ch[ch.find(<span class="py-str">","</span>)<span class="py-num">+1</span>:])
        nouveau_pu = pu * (<span class="py-num">1</span> + pourcentage / <span class="py-num">100</span>)
        T[n] = code + <span class="py-str">","</span> + nom + <span class="py-str">","</span> + qte + <span class="py-str">","</span> + <span class="py-builtin">str</span>(nouveau_pu) + <span class="py-str">"\n"</span>
        n = n + <span class="py-num">1</span>
        ch = F.readline()
    F.close()
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'w'</span>)
    <span class="py-kw">for</span> i <span class="py-kw">in</span> <span class="py-builtin">range</span>(<span class="py-num">0</span>, n):
        F.write(T[i])
    F.close()</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex13-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Augmenter le prix de <strong>tous les produits</strong> d'un certain pourcentage donn√©.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">M√™me principe que Modifier_Prix, mais appliqu√© √† <strong>toutes les lignes sans exception</strong>. On lit, on calcule le nouveau prix avec la formule, on reconstruit chaque ligne, et on r√©√©crit le fichier entier.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">pu √ó (1 + p/100)</span><span>Formule d'augmentation. Ex : +10% ‚Üí multiplier par 1.10</span></div><div class="motcle-item"><span class="motcle-tag">Toutes les lignes</span><span>Pas de condition ‚Äî on modifie <strong>chaque produit</strong> sans exception.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Lire chaque ligne et extraire code, nom, qte, pu</span></li><li><span class="step-num">2</span><span>Calculer <code>nouveau_pu = pu √ó (1 + pourcentage/100)</code></span></li><li><span class="step-num">3</span><span>Reconstruire la ligne avec le nouveau prix et stocker dans T</span></li><li><span class="step-num">4</span><span>R√©√©crire le fichier complet √† partir de T</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">Ne pas oublier de diviser par 100 dans la formule. Un pourcentage de 10 signifie <code>√ó 1.10</code>, pas <code>√ó 11</code> !</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 14 ===== -->
    <div class="exercise-card" id="ex14">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">14</div>
        <div class="ex-info">
          <div class="ex-name">Trier_Croissant(nomf)</div>
          <div class="ex-desc">Trier les produits par prix unitaire croissant (tri par insertion)</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="remark"><span class="remark-icon">‚ÑπÔ∏è</span><span>Utilise la fonction auxiliaire <strong>Extraire_Prix</strong> d√©finie √† l'exercice 9. Algorithme de tri par insertion.</span></div>
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex14')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex14')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex14')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex14-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Trier_Croissant</span> (<span class="type">nomf</span> : Cha√Æne)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    n <span class="op">‚Üê</span> <span class="num">0</span>
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(F)) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (F, T[n])
        n <span class="op">‚Üê</span> n <span class="op">+</span> <span class="num">1</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (F)
    <span class="cm">{ Tri par insertion sur les prix }</span>
    <span class="kw2">Pour</span> i <span class="kw2">de</span> <span class="num">1</span> <span class="kw2">√†</span> n<span class="op">-</span><span class="num">1</span> <span class="kw2">Faire</span>
        aux <span class="op">‚Üê</span> T[i]
        j   <span class="op">‚Üê</span> i
        pu  <span class="op">‚Üê</span> <span class="fn">Extraire_Prix</span>(aux)
        <span class="kw2">Tant que</span> (j <span class="op">&gt;</span> <span class="num">0</span>) <span class="kw">Et</span> (<span class="fn">Extraire_Prix</span>(T[j<span class="op">-</span><span class="num">1</span>]) <span class="op">&gt;</span> pu) <span class="kw2">Faire</span>
            T[j] <span class="op">‚Üê</span> T[j<span class="op">-</span><span class="num">1</span>]
            j <span class="op">‚Üê</span> j <span class="op">-</span> <span class="num">1</span>
        <span class="kw2">Fin Tant que</span>
        T[j] <span class="op">‚Üê</span> aux
    <span class="kw2">Fin Pour</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"w"</span>)
    <span class="kw2">Pour</span> i <span class="kw2">de</span> <span class="num">0</span> <span class="kw2">√†</span> n<span class="op">-</span><span class="num">1</span> <span class="kw2">Faire</span>
        <span class="kw2">Ecrire_nl</span> (F, T[i])
    <span class="kw2">Fin Pour</span>
    <span class="kw2">Fermer</span> (F)
<span class="kw2">FIN</span></pre>
          </div>
        </div>
        <div class="code-panel" id="ex14-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">from</span> numpy <span class="py-kw">import</span> array

<span class="py-kw">def</span> <span class="py-fn">Trier_Croissant</span>(nomf):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    T = array([str] * <span class="py-num">100</span>)
    n = <span class="py-num">0</span>
    ch = F.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span>:
        T[n] = ch[<span class="py-num">0</span>:<span class="py-num">-1</span>]
        n = n + <span class="py-num">1</span>
        ch = F.readline()
    F.close()
    <span class="py-cm"># Tri par insertion</span>
    <span class="py-kw">for</span> i <span class="py-kw">in</span> <span class="py-builtin">range</span>(<span class="py-num">1</span>, n):
        aux = T[i]  ;  j = i
        pu = <span class="py-fn">Extraire_Prix</span>(aux)
        <span class="py-kw">while</span> j > <span class="py-num">0</span> <span class="py-kw">and</span> <span class="py-fn">Extraire_Prix</span>(T[j<span class="py-num">-1</span>]) > pu:
            T[j] = T[j - <span class="py-num">1</span>]
            j = j - <span class="py-num">1</span>
        T[j] = aux
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'w'</span>)
    <span class="py-kw">for</span> i <span class="py-kw">in</span> <span class="py-builtin">range</span>(<span class="py-num">0</span>, n):
        F.write(T[i] + <span class="py-str">'\n'</span>)
    F.close()</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex14-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Trier tous les produits du fichier par <strong>prix unitaire croissant</strong> (du moins cher au plus cher).</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On charge toutes les lignes dans un tableau, puis on applique un <strong>tri par insertion</strong> en comparant les prix. Une fois tri√©, on r√©√©crit le fichier dans le nouvel ordre.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">Tri par insertion</span><span>Pour chaque √©l√©ment, on le d√©place vers la gauche jusqu'√† sa bonne place parmi les √©l√©ments d√©j√† tri√©s.</span></div><div class="motcle-item"><span class="motcle-tag">Extraire_Prix()</span><span>Utilis√©e √† chaque comparaison pour obtenir le prix depuis une ligne CSV.</span></div><div class="motcle-item"><span class="motcle-tag">aux</span><span>Variable temporaire qui garde la ligne courante pendant les d√©calages.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Charger toutes les lignes du fichier dans le tableau T</span></li><li><span class="step-num">2</span><span>Appliquer le tri par insertion en comparant les prix avec <code>Extraire_Prix</code></span></li><li><span class="step-num">3</span><span>R√©√©crire le fichier dans l'ordre tri√©</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">On trie des <strong>lignes enti√®res</strong>, pas seulement les prix. On compare les prix avec <code>Extraire_Prix</code>, mais on d√©place les lignes compl√®tes.</div></div></div>
        </div>

      </div>
    </div>

    <!-- ===== EX 15 ===== -->
    <div class="exercise-card" id="ex15">
      <div class="ex-header" onclick="toggleEx(this)">
        <div class="ex-num">15</div>
        <div class="ex-info">
          <div class="ex-name">Inserer_Trie(nomf, code, nom, qte, pu)</div>
          <div class="ex-desc">Ins√©rer un produit dans un fichier d√©j√† tri√© en maintenant l'ordre</div>
        </div>
        <span class="ex-chevron">‚ñæ</span>
      </div>
      <div class="ex-body">
        <div class="tabs">
          <button class="tab active-algo" onclick="switchTab(this,'algo','ex15')">Algorithme</button>
          <button class="tab" onclick="switchTab(this,'py','ex15')">Python</button>
          <button class="tab" onclick="switchTab(this,'expl','ex15')">üí° Explication</button>
        </div>
        <div class="code-panel active" id="ex15-algo">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-algo">Algorithme</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="kw">Proc√©dure</span> <span class="fn">Inserer_Trie</span> (<span class="type">nomf, code, nom</span> : Cha√Æne, <span class="type">qte</span> : Entier, <span class="type">pu</span> : R√©el)
<span class="kw2">DEBUT</span>
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"r"</span>)
    n <span class="op">‚Üê</span> <span class="num">0</span>
    <span class="kw2">Tant que</span> <span class="kw2">non</span>(<span class="fn">Fin_Fichier</span>(F)) <span class="kw2">Faire</span>
        <span class="kw2">Lire_ligne</span> (F, T[n])
        n <span class="op">‚Üê</span> n <span class="op">+</span> <span class="num">1</span>
    <span class="kw2">Fin Tant que</span>
    <span class="kw2">Fermer</span> (F)
    ligne_new <span class="op">‚Üê</span> code <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> nom <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(qte) <span class="op">+</span> <span class="str">","</span> <span class="op">+</span> <span class="fn">Convch</span>(pu)
    i <span class="op">‚Üê</span> n
    <span class="kw2">Tant que</span> (i <span class="op">&gt;</span> <span class="num">0</span>) <span class="kw">Et</span> (<span class="fn">Extraire_Prix</span>(T[i<span class="op">-</span><span class="num">1</span>]) <span class="op">&gt;</span> pu) <span class="kw2">Faire</span>
        T[i] <span class="op">‚Üê</span> T[i<span class="op">-</span><span class="num">1</span>]
        i <span class="op">‚Üê</span> i <span class="op">-</span> <span class="num">1</span>
    <span class="kw2">Fin Tant que</span>
    T[i] <span class="op">‚Üê</span> ligne_new
    <span class="kw2">Ouvrir</span> (nomf, F, <span class="str">"w"</span>)
    <span class="kw2">Pour</span> i <span class="kw2">de</span> <span class="num">0</span> <span class="kw2">√†</span> n <span class="kw2">Faire</span>   <span class="cm">{ n+1 √©l√©ments maintenant }</span>
        <span class="kw2">Ecrire_nl</span> (F, T[i])
    <span class="kw2">Fin Pour</span>
    <span class="kw2">Fermer</span> (F)
<span class="kw2">FIN</span></pre>
          </div>
        </div>
        <div class="code-panel" id="ex15-py">
          <div class="code-block">
            <div class="code-header"><span class="code-lang lang-py">Python</span><button class="copy-btn" onclick="copyCode(this)">Copier</button></div>
<pre><span class="py-kw">from</span> numpy <span class="py-kw">import</span> array

<span class="py-kw">def</span> <span class="py-fn">Inserer_Trie</span>(nomf, code, nom, qte, pu):
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'r'</span>)
    T = array([str] * <span class="py-num">100</span>)
    n = <span class="py-num">0</span>
    ch = F.readline()
    <span class="py-kw">while</span> ch != <span class="py-str">""</span>:
        T[n] = ch[<span class="py-num">0</span>:<span class="py-num">-1</span>]
        n = n + <span class="py-num">1</span>
        ch = F.readline()
    F.close()
    ligne_new = code + <span class="py-str">","</span> + nom + <span class="py-str">","</span> + <span class="py-builtin">str</span>(qte) + <span class="py-str">","</span> + <span class="py-builtin">str</span>(pu)
    i = n
    <span class="py-kw">while</span> i > <span class="py-num">0</span> <span class="py-kw">and</span> <span class="py-fn">Extraire_Prix</span>(T[i<span class="py-num">-1</span>]) > pu:
        T[i] = T[i - <span class="py-num">1</span>]
        i = i - <span class="py-num">1</span>
    T[i] = ligne_new
    F = <span class="py-builtin">open</span>(nomf, <span class="py-str">'w'</span>)
    <span class="py-kw">for</span> j <span class="py-kw">in</span> <span class="py-builtin">range</span>(<span class="py-num">0</span>, n<span class="py-num">+1</span>):
        F.write(T[j] + <span class="py-str">'\n'</span>)
    F.close()</pre>
          </div>
        </div>
        <div class="expl-panel" id="ex15-expl">
        <div class="expl-block objectif"><span class="expl-icon">üéØ</span><div class="expl-content"><div class="expl-title">Objectif</div><div class="expl-text">Ins√©rer un nouveau produit dans un fichier <strong>d√©j√† tri√© par prix</strong>, en maintenant l'ordre de tri.</div></div></div>
        <div class="expl-block idee"><span class="expl-icon">üí°</span><div class="expl-content"><div class="expl-title">Id√©e g√©n√©rale</div><div class="expl-text">On charge les lignes dans un tableau, puis on cherche la bonne position pour le nouveau produit en partant de la fin et en d√©calant les produits plus chers vers la droite. On ins√®re le nouveau produit dans l'espace lib√©r√©, puis on r√©√©crit le fichier.</div></div></div>
        <div class="expl-block motcle"><span class="expl-icon">üîë</span><div class="expl-content"><div class="expl-title">Mots-cl√©s importants</div><div class="motcle-list"><div class="motcle-item"><span class="motcle-tag">i ‚Üê n</span><span>On part de la fin du tableau et on remonte pour trouver la bonne position.</span></div><div class="motcle-item"><span class="motcle-tag">T[i] ‚Üê T[i-1]</span><span>On d√©cale les √©l√©ments plus chers d'une case vers la droite pour faire de la place.</span></div><div class="motcle-item"><span class="motcle-tag">Pour i de 0 √† n</span><span>On √©crit <code>n+1</code> √©l√©ments car on a ajout√© un nouveau produit.</span></div></div></div></div>
        <div class="expl-block etapes"><span class="expl-icon">üìã</span><div class="expl-content"><div class="expl-title">√âtapes</div><ul class="expl-steps"><li><span class="step-num">1</span><span>Charger toutes les lignes dans T (n lignes)</span></li><li><span class="step-num">2</span><span>Partir de la position n, d√©caler vers la droite tant que le produit pr√©c√©dent est plus cher</span></li><li><span class="step-num">3</span><span>Ins√©rer le nouveau produit √† la position i trouv√©e</span></li><li><span class="step-num">4</span><span>R√©√©crire le fichier avec les n+1 lignes</span></li></ul></div></div>
        <div class="expl-block attention"><span class="expl-icon">‚ö†Ô∏è</span><div class="expl-content"><div class="expl-title">Point d'attention</div><div class="expl-text">La boucle d'√©criture finale doit aller jusqu'√† <code>n</code> inclus, car le tableau contient maintenant <strong>n+1 √©l√©ments</strong> apr√®s l'insertion.</div></div></div>
        </div>

      </div>
    </div>

  </main>
</div>

<script>
// Theme
function setTheme(t) {
  document.documentElement.setAttribute('data-theme', t);
  document.getElementById('darkBtn').classList.toggle('active', t==='dark');
  document.getElementById('lightBtn').classList.toggle('active', t==='light');
  localStorage.setItem('theme', t);
}
// Init theme
(function(){
  const saved = localStorage.getItem('theme') || 'dark';
  setTheme(saved);
})();

// Toggle exercise
function toggleEx(header) {
  const body = header.nextElementSibling;
  const chevron = header.querySelector('.ex-chevron');
  const isOpen = body.classList.contains('open');
  body.classList.toggle('open', !isOpen);
  header.classList.toggle('open', !isOpen);
  chevron.classList.toggle('open', !isOpen);
}

// Switch tab
function switchTab(btn, type, exId) {
  const body = btn.closest('.ex-body');
  const tabs = body.querySelectorAll('.tab');
  tabs.forEach(t => { t.classList.remove('active-algo','active-py','active-expl'); });
  if (type === 'algo') btn.classList.add('active-algo');
  else if (type === 'py') btn.classList.add('active-py');
  else btn.classList.add('active-expl');
  body.querySelectorAll('.code-panel').forEach(p => p.classList.remove('active'));
  body.querySelectorAll('.expl-panel').forEach(p => p.classList.remove('active'));
  document.getElementById(exId + '-' + type).classList.add('active');
}

// Copy
function copyCode(btn) {
  const pre = btn.closest('.code-block').querySelector('pre');
  const text = pre.innerText;
  try {
    if (navigator.clipboard && window.isSecureContext) {
      navigator.clipboard.writeText(text).then(() => {
        btn.textContent = '‚úì Copi√©';
        setTimeout(() => btn.textContent = 'Copier', 2000);
      });
    } else {
      const ta = document.createElement('textarea');
      ta.value = text;
      ta.style.position = 'fixed';
      ta.style.opacity = '0';
      document.body.appendChild(ta);
      ta.focus();
      ta.select();
      document.execCommand('copy');
      document.body.removeChild(ta);
      btn.textContent = '‚úì Copi√©';
      setTimeout(() => btn.textContent = 'Copier', 2000);
    }
  } catch(e) {
    btn.textContent = '‚úó Erreur';
    setTimeout(() => btn.textContent = 'Copier', 2000);
  }
}

// Sidebar active on scroll
const sections = document.querySelectorAll('.exercise-card');
const navItems = document.querySelectorAll('.nav-item');
window.addEventListener('scroll', () => {
  let current = '';
  sections.forEach(s => {
    if (window.scrollY >= s.offsetTop - 120) current = s.id;
  });
  navItems.forEach(n => {
    n.classList.toggle('active', n.getAttribute('href') === '#' + current);
  });
});
</script>
</body>
</html>
